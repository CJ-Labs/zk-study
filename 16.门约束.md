# 1. 通用门方程
Plonk 使用一个通用的方程来表达所有类型的门:
```QL⋅a + QR⋅b + QO⋅c + QM⋅(a⋅b) + QC = 0```
- a, b 是输入信号
- c 是输出信号
- QL, QR, QO, QM, QC 是系数
  - QL     // a 的系数
  - QR     // b 的系数
  - QO    // c 的系数
  - QM     // 乘法项
  - QC     // 常数项
# 2. 加法门
我们想表达: ```a + b = c```
转换为: ```a + b - c = 0```
- QL = 1    // a 的系数
- QR = 1    // b 的系数
- QO = -1   // c 的系数
- QM = 0    // 不需要乘法项
- QC = 0    // 不需要常数项
<br/>
代入通用方程:
```1⋅a + 1⋅b + (-1)⋅c + 0⋅(a⋅b) + 0 = 0```
简化为:
```a + b - c = 0```

# 3. 乘法门
我们想表达: ```a * b = c```
转换为: ```a * b - c = 0```
- QL = 1    // a 的系数
- QR = 1    // b 的系数
- QO = -1   // c 的系数
- QM = 1    // 需要乘法项
- QC = 0    // 不需要常数项
<br/>
代入通用方程:

``` 0⋅a + 0⋅b + (-1)⋅c + 1⋅(a⋅b) + 0 = 0 ```

简化为:

```a ⋅ b - c = 0```
# 4. 常量门
我们想表达: a = k
转换为: ```a - k = 0```

- QL = 1    // a 的系数
- QR = 0    // 不���要 b 项
- QO = 0    // 不需要 c 项
- QM = 0    // 不需要乘法项
- QC = -k   // 常数项为 -k

<br/>
代入通用方程:

``` 1⋅a + 0⋅b + 0⋅c + 0⋅(a⋅b) + (-k) = 0 ```
简化为:
```a - k = 0```

# 5. 复合运算
计算 `(a + b) × c` 可以分解为：
1. `t = a + b` (加法门)
2. `r = t × c` (乘法门)

```
    a ─┐
       ├─── t ──┐
    b ─┘        ├─── r
             c ─┘
```

第一步（加法门）：
```
1⋅a + 1⋅b + (-1)⋅t + 0⋅(a⋅b) + 0 = 0
```

第二步（乘法门）：
```
0⋅t + 0⋅c + (-1)⋅r + 1⋅(t⋅c) + 0 = 0
```


# 6. 复合门示例
## 6.1 计算 (a × b + c) × d = y

这个计算需要分解为以下步骤：
1. t₁ = a × b     (乘法门)
2. t₂ = t₁ + c    (加法门)
3. y = t₂ × d     (乘法门)

```
    a ─┐
    b ─┘─── t₁ ─┐
             c ─┘─── t₂ ─┐
                      d ─┘─── y
```

让我们用具体数值演示: (2 × 3 + 4) × 5 = 50

```
# 1. 乘法门: 2 × 3 = 6
a₁ = 2, b₁ = 3, c₁ = 6
QL = 0, QR = 0, QO = -1, QM = 1, QC = 0
验证: 0⋅2 + 0⋅3 + (-1)⋅6 + 1⋅(2⋅3) + 0 = 0 ✓

# 2. 加法门: 6 + 4 = 10
a₂ = 6, b₂ = 4, c₂ = 10
QL = 1, QR = 1, QO = -1, QM = 0, QC = 0
验证: 1⋅6 + 1⋅4 + (-1)⋅10 + 0⋅(6⋅4) + 0 = 0 ✓

# 3. 乘法门: 10 × 5 = 50
a₃ = 10, b₃ = 5, c₃ = 50
QL = 0, QR = 0, QO = -1, QM = 1, QC = 0
验证: 0⋅10 + 0⋅5 + (-1)⋅50 + 1⋅(10⋅5) + 0 = 0 ✓
```

## 6.2 计算多项式 ax² + bx + c

计算 2x² + 3x + 4，其中 x = 2

```
    x ─┐
    x ─┘─── t₁=x² ─┐
                2 ─┘─── t₂=2x² ─┐
                                ├─── t₄ ─┐
    x ─┐                        │        │
    3 ─┘─── t₃=3x ──────────────┘        ├─── y
                                      4 ─┘
```

```
# 1. 乘法门: x × x = x²
a₁ = 2, b₁ = 2, c₁ = 4
QL = 0, QR = 0, QO = -1, QM = 1, QC = 0
验证: 0⋅2 + 0⋅2 + (-1)⋅4 + 1⋅(2⋅2) + 0 = 0 ✓

# 2. 乘法门: 2 × x² = 2x²
a₂ = 2, b₂ = 4, c₂ = 8
QL = 0, QR = 0, QO = -1, QM = 1, QC = 0
验证: 0⋅2 + 0⋅4 + (-1)⋅8 + 1⋅(2⋅4) + 0 = 0 ✓

# 3. 乘法门: 3 × x = 3x
a₃ = 3, b₃ = 2, c₃ = 6
QL = 0, QR = 0, QO = -1, QM = 1, QC = 0
验证: 0⋅3 + 0⋅2 + (-1)⋅6 + 1⋅(3⋅2) + 0 = 0 ✓

# 4. 加法门: 2x² + 3x = 14
a₄ = 8, b₄ = 6, c₄ = 14
QL = 1, QR = 1, QO = -1, QM = 0, QC = 0
验证: 1⋅8 + 1⋅6 + (-1)⋅14 + 0⋅(8⋅6) + 0 = 0 ✓

# 5. 加法门: (2x² + 3x) + 4 = 18
a₅ = 14, b₅ = 4, c₅ = 18
QL = 1, QR = 1, QO = -1, QM = 0, QC = 0
验证: 1⋅14 + 1⋅4 + (-1)⋅18 + 0⋅(14⋅4) + 0 = 0 ✓
```

# 7. 问题
## 1. 通用方程的来源 (TODO)